{
  "title": "ğŸŒŒ Celestial Time Engine Input",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "locations": {
      "title": "ğŸ“ Locations",
      "type": "array",
      "description": "List of coordinates, place names, or predefined locations to process.",
      "editor": "schemaBased",
      "items": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "title": "Query (optional)",
            "description": "Name or address of a location (e.g., 'Cape Town, South Africa').",
            "editor": "textfield"
          },
          "latitude": {
            "type": "number",
            "title": "Latitude",
            "description": "Latitude in decimal degrees (e.g., -33.9249)."
          },
          "longitude": {
            "type": "number",
            "title": "Longitude",
            "description": "Longitude in decimal degrees (e.g., 18.4241)."
          },
          "customId": {
            "type": "string",
            "title": "Custom ID",
            "description": "Optional identifier to tag this specific location in the results."
          },
          "preset": {
            "type": "string",
            "title": "ğŸŒ Popular Locations",
            "description": "Choose from a list of common cities and holy sites. If selected, overrides manual latitude/longitude.",
            "editor": "select",
            "enum": [
              "mecca",
              "medina",
              "cape_town",
              "cairo",
              "istanbul",
              "dubai",
              "london",
              "new_york",
              "jakarta",
              "lagos"
            ],
            "enumTitles": [
              "ğŸ‡¸ğŸ‡¦ Mecca, Saudi Arabia",
              "ğŸ•‹ Medina, Saudi Arabia",
              "ğŸ‡¿ğŸ‡¦ Cape Town, South Africa",
              "ğŸ‡ªğŸ‡¬ Cairo, Egypt",
              "ğŸ‡¹ğŸ‡· Istanbul, Turkey",
              "ğŸ‡¦ğŸ‡ª Dubai, UAE",
              "ğŸ‡¬ğŸ‡§ London, United Kingdom",
              "ğŸ‡ºğŸ‡¸ New York, USA",
              "ğŸ‡®ğŸ‡© Jakarta, Indonesia",
              "ğŸ‡³ğŸ‡¬ Lagos, Nigeria"
            ]
          }
        }
      }
    },
    "date": {
      "title": "ğŸ“… Date",
      "type": "string",
      "editor": "datepicker",
      "description": "Date in YYYY-MM-DD format (defaults to today)."
    },
    "modules": {
      "title": "âš™ï¸ Modules to Run",
      "type": "array",
      "editor": "select",
      "description": "Select which time-event modules to calculate.",
      "default": ["core"],
      "items": {
        "type": "string",
        "enum": [
          "core",
          "aviation",
          "islamic",
          "photography",
          "jewish",
          "moon",
          "planets",
          "eclipses",
          "weather",
          "christian",
          "hindu",
          "chinese",
          "magnetic"
        ],
        "enumTitles": [
          "â˜€ï¸ Core Sun",
          "âœˆï¸ Aviation Twilight",
          "ğŸ•Œ Islamic Prayer Times",
          "ğŸ“¸ Photography Hours",
          "âœ¡ï¸ Jewish Zmanim",
          "ğŸŒ™ Moon Phase",
          "ğŸª Planetary Rise/Set",
          "ğŸŒ‘ Eclipses",
          "ğŸŒ¤ï¸ Weather & Cloud Cover",
          "âœï¸ Christian Calendar",
          "ğŸ•‰ï¸ Hindu Panchang",
          "ğŸ‰ Chinese Lunar Calendar",
          "ğŸ§­ Magnetic Declination"
        ]
      }
    },
    "config": {
      "title": "ğŸ”§ Advanced Configuration",
      "type": "object",
      "description": "Optional fine-tuning for specific modules such as Islamic or Weather.",
      "editor": "schemaBased",
      "properties": {
        "islamic": {
          "title": "ğŸ•Œ Islamic Prayer Configuration",
          "type": "object",
          "description": "Settings for calculating prayer times and Asr method.",
          "properties": {
            "method": {
              "title": "ğŸ§­ Calculation Method",
              "type": "string",
              "default": "ISNA",
              "editor": "select",
              "enum": [
                "ISNA",
                "MuslimWorldLeague",
                "Makkah",
                "Egypt",
                "Karachi",
                "Tehran",
                "Jafari",
                "Turkey",
                "Dubai"
              ],
              "enumTitles": [
                "ğŸ‡ºğŸ‡¸ ISNA (Islamic Society of North America)",
                "ğŸŒ Muslim World League",
                "ğŸ‡¸ğŸ‡¦ Umm al-Qura (Makkah)",
                "ğŸ‡ªğŸ‡¬ Egyptian Survey",
                "ğŸ‡µğŸ‡° University of Karachi",
                "ğŸ‡®ğŸ‡· Tehran Institute",
                "â˜ªï¸ Jafari (Shia)",
                "ğŸ‡¹ğŸ‡· Diyanet (Turkey)",
                "ğŸ‡¦ğŸ‡ª Dubai (UAE)"
              ],
              "description": "Choose the organization or regional standard used to calculate prayer times."
            },
            "asr": {
              "title": "ğŸ•“ Asr Calculation Method",
              "type": "string",
              "default": "STANDARD",
              "editor": "select",
              "enum": ["STANDARD", "HANAFI"],
              "enumTitles": [
                "Standard (Shafiâ€™i, Hanbali, Maliki)",
                "Hanafi (Later Asr time)"
              ],
              "description": "Determines when Asr begins â€” STANDARD for Shafiâ€™i, Hanbali, Maliki; HANAFI for Hanafi school."
            }
          }
        }
      }
    },
    "weatherApiKey": {
      "title": "ğŸŒ¦ï¸ OpenWeatherMap API Key",
      "type": "string",
      "description": "Your API key for fetching current weather data (required if Weather module is enabled).",
      "editor": "textfield",
      "isSecret": true
    },
    "flattenOutput": {
      "title": "ğŸ“Š Flatten Output",
      "type": "boolean",
      "description": "If true, output will be flattened for CSV/Excel exports.",
      "default": false
    }
  }
}